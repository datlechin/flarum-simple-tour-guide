{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@datlechin/flarum-simple-tour-guide/webpack/bootstrap","webpack://@datlechin/flarum-simple-tour-guide/webpack/runtime/compat get default export","webpack://@datlechin/flarum-simple-tour-guide/webpack/runtime/define property getters","webpack://@datlechin/flarum-simple-tour-guide/webpack/runtime/hasOwnProperty shorthand","webpack://@datlechin/flarum-simple-tour-guide/webpack/runtime/make namespace object","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/extenders']\"","webpack://@datlechin/flarum-simple-tour-guide/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@datlechin/flarum-simple-tour-guide/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/Model']\"","webpack://@datlechin/flarum-simple-tour-guide/./src/common/models/TourGuideStep.ts","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/models/User']\"","webpack://@datlechin/flarum-simple-tour-guide/./src/common/index.ts","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['admin/app']\"","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/components/Button']\"","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@datlechin/flarum-simple-tour-guide/./src/admin/components/EditTourGuideStepModal.tsx","webpack://@datlechin/flarum-simple-tour-guide/./src/admin/components/SettingsPage.tsx","webpack://@datlechin/flarum-simple-tour-guide/./src/admin/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class TourGuideStep extends Model {\n  title() {\n    return Model.attribute<string>('title').call(this);\n  }\n\n  description() {\n    return Model.attribute<string>('description').call(this);\n  }\n\n  target() {\n    return Model.attribute<string>('target').call(this);\n  }\n\n  isTriggerClick() {\n    return Model.attribute<boolean>('isTriggerClick').call(this);\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/User'];","import Extend from 'flarum/common/extenders';\nimport TourGuideStep from './models/TourGuideStep';\nimport User from 'flarum/common/models/User';\n\nexport default [\n  new Extend.Model(User).attribute<boolean>('tourGuideDismissedAt').attribute<boolean>('canResetTourGuide'),\n\n  new Extend.Store().add('tour-guide-steps', TourGuideStep),\n];\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","import app from 'flarum/admin/app';\nimport Button from 'flarum/common/components/Button';\nimport Modal, { IInternalModalAttrs } from 'flarum/common/components/Modal';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport type Mithril from 'mithril';\nimport Stream from 'flarum/common/utils/Stream';\nimport TourGuideStep from 'src/common/models/TourGuideStep';\nimport extractText from 'flarum/common/utils/extractText';\nimport Switch from 'flarum/common/components/Switch';\n\nexport interface EditTourGuideStepModalAttrs extends IInternalModalAttrs {\n  model?: TourGuideStep;\n}\n\nexport default class EditTourGuideStepModal extends Modal<EditTourGuideStepModalAttrs> {\n  tourGuideStep!: TourGuideStep;\n\n  tourTitle!: Stream<string>;\n  description!: Stream<string>;\n  target!: Stream<string>;\n  isTriggerClick!: Stream<boolean>;\n\n  oninit(vnode: Mithril.Vnode) {\n    super.oninit(vnode);\n\n    this.tourGuideStep = this.attrs.model || app.store.createRecord('tour-guide-steps');\n\n    this.tourTitle = Stream(this.tourGuideStep.title() || '');\n    this.description = Stream(this.tourGuideStep.description() || '');\n    this.target = Stream(this.tourGuideStep.target() || '');\n    this.isTriggerClick = Stream(this.tourGuideStep.isTriggerClick() || false);\n  }\n\n  className() {\n    return 'EditTourGuideStepModal Modal--small';\n  }\n\n  title() {\n    return this.tourGuideStep.exists\n      ? app.translator.trans('datlechin-simple-tour-guide.admin.edit_modal.edit_step', { title: this.tourGuideStep.title() })\n      : app.translator.trans('datlechin-simple-tour-guide.admin.edit_modal.create_step');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'title',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('datlechin-simple-tour-guide.admin.title')}</label>\n        <input\n          className=\"FormControl\"\n          disabled={this.loading}\n          bidi={this.tourTitle}\n          placeholder={app.translator.trans('datlechin-simple-tour-guide.admin.title_placeholder')}\n        />\n      </div>,\n      30\n    );\n\n    items.add(\n      'description',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('datlechin-simple-tour-guide.admin.description')}</label>\n        <textarea\n          className=\"FormControl\"\n          disabled={this.loading}\n          bidi={this.description}\n          rows=\"3\"\n          placeholder={app.translator.trans('datlechin-simple-tour-guide.admin.description_placeholder')}\n        />\n      </div>,\n      20\n    );\n\n    items.add(\n      'target',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('datlechin-simple-tour-guide.admin.target')}</label>\n        <input\n          className=\"FormControl\"\n          disabled={this.loading}\n          bidi={this.target}\n          placeholder={app.translator.trans('datlechin-simple-tour-guide.admin.target_placeholder')}\n        />\n      </div>,\n      10\n    );\n\n    items.add(\n      'isTriggerClick',\n      <div className=\"Form-group\">\n        <Switch onchange={this.isTriggerClick} state={this.isTriggerClick()} loading={this.loading}>\n          {app.translator.trans('datlechin-simple-tour-guide.admin.trigger_click')}\n        </Switch>\n      </div>\n    );\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        <Button type=\"submit\" className=\"Button Button--primary EditTagModal-save\" loading={this.loading}>\n          Submit\n        </Button>\n        {this.tourGuideStep.exists && (\n          <button type=\"button\" className=\"Button EditTagModal-delete\" onclick={() => this.delete()}>\n            {app.translator.trans('datlechin-simple-tour-guide.admin.edit_modal.delete_step')}\n          </button>\n        )}\n      </div>,\n      0\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      title: this.tourTitle(),\n      description: this.description(),\n      target: this.target(),\n      is_trigger_click: this.isTriggerClick(),\n    };\n  }\n\n  onsubmit(e: SubmitEvent) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.tourGuideStep.save(this.submitData()).then(\n      () => this.hide(),\n      () => (this.loading = false)\n    );\n  }\n\n  delete() {\n    if (confirm(extractText(app.translator.trans('datlechin-simple-tour-guide.admin.edit_modal.delete_step_confirmation')))) {\n      this.tourGuideStep.delete().then(() => m.redraw());\n\n      this.hide();\n    }\n  }\n}\n","import type Mithril from 'mithril';\nimport app from 'flarum/admin/app';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport EditTourGuideStepModal from './EditTourGuideStepModal';\nimport TourGuideStep from 'src/common/models/TourGuideStep';\n\nexport default class SettingsPage extends ExtensionPage {\n  oninit(vnode: Mithril.Vnode) {\n    super.oninit(vnode);\n\n    this.loading = true;\n\n    app.store.find<TourGuideStep[]>(`tour-guide-steps`).then((steps) => {\n      app.store.pushPayload(steps.payload);\n      this.loading = false;\n\n      m.redraw();\n    });\n  }\n\n  content() {\n    const tourGuideSteps: TourGuideStep[] = app.store.all('tour-guide-steps');\n\n    return (\n      <div className=\"ExtensionPage-settings\">\n        <div className=\"container\">\n          <div className=\"Form\">\n            {this.buildSettingComponent({\n              setting: 'datlechin-simple-tour-guide.show_progress',\n              type: 'boolean',\n              label: app.translator.trans('datlechin-simple-tour-guide.admin.settings.show_progress_label'),\n              help: app.translator.trans('datlechin-simple-tour-guide.admin.settings.show_progress_help'),\n            })}\n            {this.buildSettingComponent({\n              setting: 'datlechin-simple-tour-guide.allow_close',\n              type: 'boolean',\n              label: app.translator.trans('datlechin-simple-tour-guide.admin.settings.allow_close_label'),\n              help: app.translator.trans('datlechin-simple-tour-guide.admin.settings.allow_close_help'),\n            })}\n            {this.buildSettingComponent({\n              setting: 'datlechin-simple-tour-guide.skip_null_elements',\n              type: 'boolean',\n              label: app.translator.trans('datlechin-simple-tour-guide.admin.settings.skip_null_elements_label'),\n              help: app.translator.trans('datlechin-simple-tour-guide.admin.settings.skip_null_elements_help'),\n            })}\n            <div className=\"Form-group\">\n              <Button className=\"Button\" icon=\"fas fa-plus\" onclick={() => app.modal.show(EditTourGuideStepModal)}>\n                {app.translator.trans('datlechin-simple-tour-guide.admin.add_step')}\n              </Button>\n            </div>\n            {this.loading ? (\n              <LoadingIndicator />\n            ) : (\n              <>\n                {tourGuideSteps.length > 0 && (\n                  <table className=\"TourGuideSteps-Table\">\n                    <thead>\n                      <tr>\n                        <th>{app.translator.trans('datlechin-simple-tour-guide.admin.title')}</th>\n                        <th>{app.translator.trans('datlechin-simple-tour-guide.admin.target')}</th>\n                        <th>{app.translator.trans('datlechin-simple-tour-guide.admin.trigger_click')}</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {tourGuideSteps.map((step) => (\n                        <tr>\n                          <td>{step.title()}</td>\n                          <td>\n                            {step.target()}\n                            <Button\n                              className=\"Button Button--icon\"\n                              icon=\"fas fa-edit\"\n                              onclick={() => app.modal.show(EditTourGuideStepModal, { model: step })}\n                            />\n                          </td>\n                          <td>\n                            {step.isTriggerClick()\n                              ? app.translator.trans('datlechin-simple-tour-guide.admin.yes')\n                              : app.translator.trans('datlechin-simple-tour-guide.admin.no')}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                )}\n              </>\n            )}\n            <div className=\"Form-group\">{this.submitButton()}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import app from 'flarum/admin/app';\nimport SettingsPage from './components/SettingsPage';\nexport { default as extend } from '../common';\n\napp.initializers.add('datlechin/flarum-simple-tour-guide', () => {\n  app.extensionData\n    .for('datlechin-simple-tour-guide')\n    .registerPage(SettingsPage)\n    .registerPermission(\n      {\n        icon: 'fas fa-sync',\n        label: app.translator.trans('datlechin-simple-tour-guide.admin.permissions.reset_tour_guide'),\n        permission: 'resetTourGuide',\n      },\n      'moderate'\n    );\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","create","constructor","TourGuideStep","_Model","apply","arguments","_proto","title","Model","this","description","target","isTriggerClick","Extend","User","attribute","add","EditTourGuideStepModal","_Modal","_this","_len","length","args","Array","_key","concat","tourGuideStep","tourTitle","oninit","vnode","attrs","model","app","createRecord","Stream","className","exists","trans","content","m","fields","toArray","_this2","items","ItemList","disabled","loading","bidi","placeholder","rows","Switch","onchange","state","Button","type","onclick","submitData","is_trigger_click","onsubmit","e","_this3","preventDefault","save","then","hide","confirm","extractText","redraw","Modal","SettingsPage","_ExtensionPage","find","steps","pushPayload","payload","tourGuideSteps","all","buildSettingComponent","setting","label","help","icon","show","LoadingIndicator","'['","map","step","submitButton","ExtensionPage","registerPage","registerPermission","permission"],"sourceRoot":""}