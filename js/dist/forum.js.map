{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@datlechin/flarum-simple-tour-guide/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@datlechin/flarum-simple-tour-guide/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@datlechin/flarum-simple-tour-guide/./node_modules/@babel/runtime/regenerator/index.js","webpack://@datlechin/flarum-simple-tour-guide/webpack/bootstrap","webpack://@datlechin/flarum-simple-tour-guide/webpack/runtime/compat get default export","webpack://@datlechin/flarum-simple-tour-guide/webpack/runtime/define property getters","webpack://@datlechin/flarum-simple-tour-guide/webpack/runtime/hasOwnProperty shorthand","webpack://@datlechin/flarum-simple-tour-guide/webpack/runtime/make namespace object","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/extenders']\"","webpack://@datlechin/flarum-simple-tour-guide/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/Model']\"","webpack://@datlechin/flarum-simple-tour-guide/./src/common/models/TourGuideStep.ts","webpack://@datlechin/flarum-simple-tour-guide/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@datlechin/flarum-simple-tour-guide/./src/common/index.ts","webpack://@datlechin/flarum-simple-tour-guide/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['forum/app']\"","webpack://@datlechin/flarum-simple-tour-guide/./node_modules/driver.js/dist/driver.js.mjs","webpack://@datlechin/flarum-simple-tour-guide/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@datlechin/flarum-simple-tour-guide/./src/forum/index.ts"],"sourcesContent":["var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class TourGuideStep extends Model {\n  title() {\n    return Model.attribute<string>('title').call(this);\n  }\n\n  description() {\n    return Model.attribute<string>('description').call(this);\n  }\n\n  target() {\n    return Model.attribute<string>('target').call(this);\n  }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import Extend from 'flarum/common/extenders';\nimport TourGuideStep from './models/TourGuideStep';\n\nexport default [new Extend.Store().add('tour-guide-steps', TourGuideStep)];\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","let F = {};\nfunction D(e = {}) {\n  F = {\n    animate: !0,\n    allowClose: !0,\n    overlayOpacity: 0.7,\n    smoothScroll: !1,\n    disableActiveInteraction: !1,\n    showProgress: !1,\n    stagePadding: 10,\n    stageRadius: 5,\n    popoverOffset: 10,\n    showButtons: [\"next\", \"previous\", \"close\"],\n    disableButtons: [],\n    overlayColor: \"#000\",\n    ...e\n  };\n}\nfunction a(e) {\n  return e ? F[e] : F;\n}\nfunction W(e, o, t, i) {\n  return (e /= i / 2) < 1 ? t / 2 * e * e + o : -t / 2 * (--e * (e - 2) - 1) + o;\n}\nfunction Q(e) {\n  const o = 'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])';\n  return e.flatMap((t) => {\n    const i = t.matches(o), p = Array.from(t.querySelectorAll(o));\n    return [...i ? [t] : [], ...p];\n  }).filter((t) => getComputedStyle(t).pointerEvents !== \"none\" && ae(t));\n}\nfunction Z(e) {\n  if (!e || se(e))\n    return;\n  const o = a(\"smoothScroll\");\n  e.scrollIntoView({\n    // Removing the smooth scrolling for elements which exist inside the scrollable parent\n    // This was causing the highlight to not properly render\n    behavior: !o || re(e) ? \"auto\" : \"smooth\",\n    inline: \"center\",\n    block: \"center\"\n  });\n}\nfunction re(e) {\n  if (!e || !e.parentElement)\n    return;\n  const o = e.parentElement;\n  return o.scrollHeight > o.clientHeight;\n}\nfunction se(e) {\n  const o = e.getBoundingClientRect();\n  return o.top >= 0 && o.left >= 0 && o.bottom <= (window.innerHeight || document.documentElement.clientHeight) && o.right <= (window.innerWidth || document.documentElement.clientWidth);\n}\nfunction ae(e) {\n  return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length);\n}\nlet O = {};\nfunction b(e, o) {\n  O[e] = o;\n}\nfunction l(e) {\n  return e ? O[e] : O;\n}\nfunction V() {\n  O = {};\n}\nlet R = {};\nfunction N(e, o) {\n  R[e] = o;\n}\nfunction L(e) {\n  var o;\n  (o = R[e]) == null || o.call(R);\n}\nfunction ce() {\n  R = {};\n}\nfunction le(e, o, t, i) {\n  let p = l(\"__activeStagePosition\");\n  const n = p || t.getBoundingClientRect(), f = i.getBoundingClientRect(), w = W(e, n.x, f.x - n.x, o), r = W(e, n.y, f.y - n.y, o), v = W(e, n.width, f.width - n.width, o), s = W(e, n.height, f.height - n.height, o);\n  p = {\n    x: w,\n    y: r,\n    width: v,\n    height: s\n  }, J(p), b(\"__activeStagePosition\", p);\n}\nfunction G(e) {\n  if (!e)\n    return;\n  const o = e.getBoundingClientRect(), t = {\n    x: o.x,\n    y: o.y,\n    width: o.width,\n    height: o.height\n  };\n  b(\"__activeStagePosition\", t), J(t);\n}\nfunction de() {\n  const e = l(\"__activeStagePosition\"), o = l(\"__overlaySvg\");\n  if (!e)\n    return;\n  if (!o) {\n    console.warn(\"No stage svg found.\");\n    return;\n  }\n  const t = window.innerWidth, i = window.innerHeight;\n  o.setAttribute(\"viewBox\", `0 0 ${t} ${i}`);\n}\nfunction pe(e) {\n  const o = ue(e);\n  document.body.appendChild(o), te(o, (t) => {\n    t.target.tagName === \"path\" && L(\"overlayClick\");\n  }), b(\"__overlaySvg\", o);\n}\nfunction J(e) {\n  const o = l(\"__overlaySvg\");\n  if (!o) {\n    pe(e);\n    return;\n  }\n  const t = o.firstElementChild;\n  if ((t == null ? void 0 : t.tagName) !== \"path\")\n    throw new Error(\"no path element found in stage svg\");\n  t.setAttribute(\"d\", U(e));\n}\nfunction ue(e) {\n  const o = window.innerWidth, t = window.innerHeight, i = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  i.classList.add(\"driver-overlay\", \"driver-overlay-animated\"), i.setAttribute(\"viewBox\", `0 0 ${o} ${t}`), i.setAttribute(\"xmlSpace\", \"preserve\"), i.setAttribute(\"xmlnsXlink\", \"http://www.w3.org/1999/xlink\"), i.setAttribute(\"version\", \"1.1\"), i.setAttribute(\"preserveAspectRatio\", \"xMinYMin slice\"), i.style.fillRule = \"evenodd\", i.style.clipRule = \"evenodd\", i.style.strokeLinejoin = \"round\", i.style.strokeMiterlimit = \"2\", i.style.zIndex = \"10000\", i.style.position = \"fixed\", i.style.top = \"0\", i.style.left = \"0\", i.style.width = \"100%\", i.style.height = \"100%\";\n  const p = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  return p.setAttribute(\"d\", U(e)), p.style.fill = a(\"overlayColor\") || \"rgb(0,0,0)\", p.style.opacity = `${a(\"overlayOpacity\")}`, p.style.pointerEvents = \"auto\", p.style.cursor = \"auto\", i.appendChild(p), i;\n}\nfunction U(e) {\n  const o = window.innerWidth, t = window.innerHeight, i = a(\"stagePadding\") || 0, p = a(\"stageRadius\") || 0, n = e.width + i * 2, f = e.height + i * 2, w = Math.min(p, n / 2, f / 2), r = Math.floor(Math.max(w, 0)), v = e.x - i + r, s = e.y - i, c = n - r * 2, d = f - r * 2;\n  return `M${o},0L0,0L0,${t}L${o},${t}L${o},0Z\n    M${v},${s} h${c} a${r},${r} 0 0 1 ${r},${r} v${d} a${r},${r} 0 0 1 -${r},${r} h-${c} a${r},${r} 0 0 1 -${r},-${r} v-${d} a${r},${r} 0 0 1 ${r},-${r} z`;\n}\nfunction ve() {\n  const e = l(\"__overlaySvg\");\n  e && e.remove();\n}\nfunction fe() {\n  const e = document.getElementById(\"driver-dummy-element\");\n  if (e)\n    return e;\n  let o = document.createElement(\"div\");\n  return o.id = \"driver-dummy-element\", o.style.width = \"0\", o.style.height = \"0\", o.style.pointerEvents = \"none\", o.style.opacity = \"0\", o.style.position = \"fixed\", o.style.top = \"50%\", o.style.left = \"50%\", document.body.appendChild(o), o;\n}\nfunction K(e) {\n  const { element: o } = e;\n  let t = typeof o == \"string\" ? document.querySelector(o) : o;\n  t || (t = fe()), ge(t, e);\n}\nfunction he() {\n  const e = l(\"__activeElement\"), o = l(\"__activeStep\");\n  e && (G(e), de(), ie(e, o));\n}\nfunction ge(e, o) {\n  const i = Date.now(), p = l(\"__activeStep\"), n = l(\"__activeElement\") || e, f = !n || n === e, w = e.id === \"driver-dummy-element\", r = n.id === \"driver-dummy-element\", v = a(\"animate\"), s = o.onHighlightStarted || a(\"onHighlightStarted\"), c = (o == null ? void 0 : o.onHighlighted) || a(\"onHighlighted\"), d = (p == null ? void 0 : p.onDeselected) || a(\"onDeselected\"), m = a(), g = l();\n  !f && d && d(r ? void 0 : n, p, {\n    config: m,\n    state: g\n  }), s && s(w ? void 0 : e, o, {\n    config: m,\n    state: g\n  });\n  const u = !f && v;\n  let h = !1;\n  xe(), b(\"previousStep\", p), b(\"previousElement\", n), b(\"activeStep\", o), b(\"activeElement\", e);\n  const P = () => {\n    if (l(\"__transitionCallback\") !== P)\n      return;\n    const x = Date.now() - i, y = 400 - x <= 400 / 2;\n    o.popover && y && !h && u && (X(e, o), h = !0), a(\"animate\") && x < 400 ? le(x, 400, n, e) : (G(e), c && c(w ? void 0 : e, o, {\n      config: a(),\n      state: l()\n    }), b(\"__transitionCallback\", void 0), b(\"__previousStep\", p), b(\"__previousElement\", n), b(\"__activeStep\", o), b(\"__activeElement\", e)), window.requestAnimationFrame(P);\n  };\n  b(\"__transitionCallback\", P), window.requestAnimationFrame(P), Z(e), !u && o.popover && X(e, o), n.classList.remove(\"driver-active-element\", \"driver-no-interaction\"), n.removeAttribute(\"aria-haspopup\"), n.removeAttribute(\"aria-expanded\"), n.removeAttribute(\"aria-controls\"), a(\"disableActiveInteraction\") && e.classList.add(\"driver-no-interaction\"), e.classList.add(\"driver-active-element\"), e.setAttribute(\"aria-haspopup\", \"dialog\"), e.setAttribute(\"aria-expanded\", \"true\"), e.setAttribute(\"aria-controls\", \"driver-popover-content\");\n}\nfunction we() {\n  var e;\n  (e = document.getElementById(\"driver-dummy-element\")) == null || e.remove(), document.querySelectorAll(\".driver-active-element\").forEach((o) => {\n    o.classList.remove(\"driver-active-element\", \"driver-no-interaction\"), o.removeAttribute(\"aria-haspopup\"), o.removeAttribute(\"aria-expanded\"), o.removeAttribute(\"aria-controls\");\n  });\n}\nfunction I() {\n  const e = l(\"__resizeTimeout\");\n  e && window.cancelAnimationFrame(e), b(\"__resizeTimeout\", window.requestAnimationFrame(he));\n}\nfunction me(e) {\n  var r;\n  if (!l(\"isInitialized\") || !(e.key === \"Tab\" || e.keyCode === 9))\n    return;\n  const i = l(\"__activeElement\"), p = (r = l(\"popover\")) == null ? void 0 : r.wrapper, n = Q([\n    ...p ? [p] : [],\n    ...i ? [i] : []\n  ]), f = n[0], w = n[n.length - 1];\n  if (e.preventDefault(), e.shiftKey) {\n    const v = n[n.indexOf(document.activeElement) - 1] || w;\n    v == null || v.focus();\n  } else {\n    const v = n[n.indexOf(document.activeElement) + 1] || f;\n    v == null || v.focus();\n  }\n}\nfunction ee(e) {\n  var t;\n  ((t = a(\"allowKeyboardControl\")) == null || t) && (e.key === \"Escape\" ? L(\"escapePress\") : e.key === \"ArrowRight\" ? L(\"arrowRightPress\") : e.key === \"ArrowLeft\" && L(\"arrowLeftPress\"));\n}\nfunction te(e, o, t) {\n  const i = (n, f) => {\n    const w = n.target;\n    e.contains(w) && ((!t || t(w)) && (n.preventDefault(), n.stopPropagation(), n.stopImmediatePropagation()), f == null || f(n));\n  };\n  document.addEventListener(\"pointerdown\", i, !0), document.addEventListener(\"mousedown\", i, !0), document.addEventListener(\"pointerup\", i, !0), document.addEventListener(\"mouseup\", i, !0), document.addEventListener(\n    \"click\",\n    (n) => {\n      i(n, o);\n    },\n    !0\n  );\n}\nfunction ye() {\n  window.addEventListener(\"keyup\", ee, !1), window.addEventListener(\"keydown\", me, !1), window.addEventListener(\"resize\", I), window.addEventListener(\"scroll\", I);\n}\nfunction be() {\n  window.removeEventListener(\"keyup\", ee), window.removeEventListener(\"resize\", I), window.removeEventListener(\"scroll\", I);\n}\nfunction xe() {\n  const e = l(\"popover\");\n  e && (e.wrapper.style.display = \"none\");\n}\nfunction X(e, o) {\n  var C, y;\n  let t = l(\"popover\");\n  t && document.body.removeChild(t.wrapper), t = Pe(), document.body.appendChild(t.wrapper);\n  const {\n    title: i,\n    description: p,\n    showButtons: n,\n    disableButtons: f,\n    showProgress: w,\n    nextBtnText: r = a(\"nextBtnText\") || \"Next &rarr;\",\n    prevBtnText: v = a(\"prevBtnText\") || \"&larr; Previous\",\n    progressText: s = a(\"progressText\") || \"{current} of {total}\"\n  } = o.popover || {};\n  t.nextButton.innerHTML = r, t.previousButton.innerHTML = v, t.progress.innerHTML = s, i ? (t.title.innerHTML = i, t.title.style.display = \"block\") : t.title.style.display = \"none\", p ? (t.description.innerHTML = p, t.description.style.display = \"block\") : t.description.style.display = \"none\";\n  const c = n || a(\"showButtons\"), d = w || a(\"showProgress\") || !1, m = (c == null ? void 0 : c.includes(\"next\")) || (c == null ? void 0 : c.includes(\"previous\")) || d;\n  t.closeButton.style.display = c.includes(\"close\") ? \"block\" : \"none\", m ? (t.footer.style.display = \"flex\", t.progress.style.display = d ? \"block\" : \"none\", t.nextButton.style.display = c.includes(\"next\") ? \"block\" : \"none\", t.previousButton.style.display = c.includes(\"previous\") ? \"block\" : \"none\") : t.footer.style.display = \"none\";\n  const g = f || a(\"disableButtons\") || [];\n  g != null && g.includes(\"next\") && (t.nextButton.disabled = !0, t.nextButton.classList.add(\"driver-popover-btn-disabled\")), g != null && g.includes(\"previous\") && (t.previousButton.disabled = !0, t.previousButton.classList.add(\"driver-popover-btn-disabled\")), g != null && g.includes(\"close\") && (t.closeButton.disabled = !0, t.closeButton.classList.add(\"driver-popover-btn-disabled\"));\n  const u = t.wrapper;\n  u.style.display = \"block\", u.style.left = \"\", u.style.top = \"\", u.style.bottom = \"\", u.style.right = \"\", u.id = \"driver-popover-content\", u.setAttribute(\"role\", \"dialog\"), u.setAttribute(\"aria-labelledby\", \"driver-popover-title\"), u.setAttribute(\"aria-describedby\", \"driver-popover-description\");\n  const h = t.arrow;\n  h.className = \"driver-popover-arrow\";\n  const P = ((C = o.popover) == null ? void 0 : C.popoverClass) || a(\"popoverClass\") || \"\";\n  u.className = `driver-popover ${P}`.trim(), te(\n    t.wrapper,\n    (k) => {\n      var $, B, M;\n      const T = k.target, E = (($ = o.popover) == null ? void 0 : $.onNextClick) || a(\"onNextClick\"), A = ((B = o.popover) == null ? void 0 : B.onPrevClick) || a(\"onPrevClick\"), H = ((M = o.popover) == null ? void 0 : M.onCloseClick) || a(\"onCloseClick\");\n      if (T.classList.contains(\"driver-popover-next-btn\"))\n        return E ? E(e, o, {\n          config: a(),\n          state: l()\n        }) : L(\"nextClick\");\n      if (T.classList.contains(\"driver-popover-prev-btn\"))\n        return A ? A(e, o, {\n          config: a(),\n          state: l()\n        }) : L(\"prevClick\");\n      if (T.classList.contains(\"driver-popover-close-btn\"))\n        return H ? H(e, o, {\n          config: a(),\n          state: l()\n        }) : L(\"closeClick\");\n    },\n    (k) => !(t != null && t.description.contains(k)) && !(t != null && t.title.contains(k)) && typeof k.className == \"string\" && k.className.includes(\"driver-popover\")\n  ), b(\"popover\", t);\n  const S = ((y = o.popover) == null ? void 0 : y.onPopoverRender) || a(\"onPopoverRender\");\n  S && S(t, {\n    config: a(),\n    state: l()\n  }), ie(e, o), Z(u);\n  const _ = e.classList.contains(\"driver-dummy-element\"), x = Q([u, ..._ ? [] : [e]]);\n  x.length > 0 && x[0].focus();\n}\nfunction oe() {\n  const e = l(\"popover\");\n  if (!(e != null && e.wrapper))\n    return;\n  const o = e.wrapper.getBoundingClientRect(), t = a(\"stagePadding\") || 0, i = a(\"popoverOffset\") || 0;\n  return {\n    width: o.width + t + i,\n    height: o.height + t + i,\n    realWidth: o.width,\n    realHeight: o.height\n  };\n}\nfunction Y(e, o) {\n  const { elementDimensions: t, popoverDimensions: i, popoverPadding: p, popoverArrowDimensions: n } = o;\n  return e === \"start\" ? Math.max(\n    Math.min(\n      t.top - p,\n      window.innerHeight - i.realHeight - n.width\n    ),\n    n.width\n  ) : e === \"end\" ? Math.max(\n    Math.min(\n      t.top - (i == null ? void 0 : i.realHeight) + t.height + p,\n      window.innerHeight - (i == null ? void 0 : i.realHeight) - n.width\n    ),\n    n.width\n  ) : e === \"center\" ? Math.max(\n    Math.min(\n      t.top + t.height / 2 - (i == null ? void 0 : i.realHeight) / 2,\n      window.innerHeight - (i == null ? void 0 : i.realHeight) - n.width\n    ),\n    n.width\n  ) : 0;\n}\nfunction j(e, o) {\n  const { elementDimensions: t, popoverDimensions: i, popoverPadding: p, popoverArrowDimensions: n } = o;\n  return e === \"start\" ? Math.max(\n    Math.min(\n      t.left - p,\n      window.innerWidth - i.realWidth - n.width\n    ),\n    n.width\n  ) : e === \"end\" ? Math.max(\n    Math.min(\n      t.left - (i == null ? void 0 : i.realWidth) + t.width + p,\n      window.innerWidth - (i == null ? void 0 : i.realWidth) - n.width\n    ),\n    n.width\n  ) : e === \"center\" ? Math.max(\n    Math.min(\n      t.left + t.width / 2 - (i == null ? void 0 : i.realWidth) / 2,\n      window.innerWidth - (i == null ? void 0 : i.realWidth) - n.width\n    ),\n    n.width\n  ) : 0;\n}\nfunction ie(e, o) {\n  const t = l(\"popover\");\n  if (!t)\n    return;\n  const { align: i = \"start\", side: p = \"left\" } = (o == null ? void 0 : o.popover) || {}, n = i, f = e.id === \"driver-dummy-element\" ? \"over\" : p, w = a(\"stagePadding\") || 0, r = oe(), v = t.arrow.getBoundingClientRect(), s = e.getBoundingClientRect(), c = s.top - r.height;\n  let d = c >= 0;\n  const m = window.innerHeight - (s.bottom + r.height);\n  let g = m >= 0;\n  const u = s.left - r.width;\n  let h = u >= 0;\n  const P = window.innerWidth - (s.right + r.width);\n  let S = P >= 0;\n  const _ = !d && !g && !h && !S;\n  let x = f;\n  if (f === \"top\" && d ? S = h = g = !1 : f === \"bottom\" && g ? S = h = d = !1 : f === \"left\" && h ? S = d = g = !1 : f === \"right\" && S && (h = d = g = !1), f === \"over\") {\n    const C = window.innerWidth / 2 - r.realWidth / 2, y = window.innerHeight / 2 - r.realHeight / 2;\n    t.wrapper.style.left = `${C}px`, t.wrapper.style.right = \"auto\", t.wrapper.style.top = `${y}px`, t.wrapper.style.bottom = \"auto\";\n  } else if (_) {\n    const C = window.innerWidth / 2 - (r == null ? void 0 : r.realWidth) / 2, y = 10;\n    t.wrapper.style.left = `${C}px`, t.wrapper.style.right = \"auto\", t.wrapper.style.bottom = `${y}px`, t.wrapper.style.top = \"auto\";\n  } else if (h) {\n    const C = Math.min(\n      u,\n      window.innerWidth - (r == null ? void 0 : r.realWidth) - v.width\n    ), y = Y(n, {\n      elementDimensions: s,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.left = `${C}px`, t.wrapper.style.top = `${y}px`, t.wrapper.style.bottom = \"auto\", t.wrapper.style.right = \"auto\", x = \"left\";\n  } else if (S) {\n    const C = Math.min(\n      P,\n      window.innerWidth - (r == null ? void 0 : r.realWidth) - v.width\n    ), y = Y(n, {\n      elementDimensions: s,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.right = `${C}px`, t.wrapper.style.top = `${y}px`, t.wrapper.style.bottom = \"auto\", t.wrapper.style.left = \"auto\", x = \"right\";\n  } else if (d) {\n    const C = Math.min(\n      c,\n      window.innerHeight - r.realHeight - v.width\n    );\n    let y = j(n, {\n      elementDimensions: s,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.top = `${C}px`, t.wrapper.style.left = `${y}px`, t.wrapper.style.bottom = \"auto\", t.wrapper.style.right = \"auto\", x = \"top\";\n  } else if (g) {\n    const C = Math.min(\n      m,\n      window.innerHeight - (r == null ? void 0 : r.realHeight) - v.width\n    );\n    let y = j(n, {\n      elementDimensions: s,\n      popoverDimensions: r,\n      popoverPadding: w,\n      popoverArrowDimensions: v\n    });\n    t.wrapper.style.left = `${y}px`, t.wrapper.style.bottom = `${C}px`, t.wrapper.style.top = \"auto\", t.wrapper.style.right = \"auto\", x = \"bottom\";\n  }\n  _ ? t.arrow.classList.add(\"driver-popover-arrow-none\") : Ce(n, x, e);\n}\nfunction Ce(e, o, t) {\n  const i = l(\"popover\");\n  if (!i)\n    return;\n  const p = t.getBoundingClientRect(), n = oe(), f = i.arrow, w = n.width, r = window.innerWidth, v = p.width, s = p.left, c = n.height, d = window.innerHeight, m = p.top, g = p.height;\n  f.className = \"driver-popover-arrow\";\n  let u = o, h = e;\n  o === \"top\" ? (s + v <= 0 ? (u = \"right\", h = \"end\") : s + v - w <= 0 && (u = \"top\", h = \"start\"), s >= r ? (u = \"left\", h = \"end\") : s + w >= r && (u = \"top\", h = \"end\")) : o === \"bottom\" ? (s + v <= 0 ? (u = \"right\", h = \"start\") : s + v - w <= 0 && (u = \"bottom\", h = \"start\"), s >= r ? (u = \"left\", h = \"start\") : s + w >= r && (u = \"bottom\", h = \"end\")) : o === \"left\" ? (m + g <= 0 ? (u = \"bottom\", h = \"end\") : m + g - c <= 0 && (u = \"left\", h = \"start\"), m >= d ? (u = \"top\", h = \"end\") : m + c >= d && (u = \"left\", h = \"end\")) : o === \"right\" && (m + g <= 0 ? (u = \"bottom\", h = \"start\") : m + g - c <= 0 && (u = \"right\", h = \"start\"), m >= d ? (u = \"top\", h = \"start\") : m + c >= d && (u = \"right\", h = \"end\")), u ? (f.classList.add(`driver-popover-arrow-side-${u}`), f.classList.add(`driver-popover-arrow-align-${h}`)) : f.classList.add(\"driver-popover-arrow-none\");\n}\nfunction Pe() {\n  const e = document.createElement(\"div\");\n  e.classList.add(\"driver-popover\");\n  const o = document.createElement(\"div\");\n  o.classList.add(\"driver-popover-arrow\");\n  const t = document.createElement(\"header\");\n  t.id = \"driver-popover-title\", t.classList.add(\"driver-popover-title\"), t.style.display = \"none\", t.innerText = \"Popover Title\";\n  const i = document.createElement(\"div\");\n  i.id = \"driver-popover-description\", i.classList.add(\"driver-popover-description\"), i.style.display = \"none\", i.innerText = \"Popover description is here\";\n  const p = document.createElement(\"button\");\n  p.type = \"button\", p.classList.add(\"driver-popover-close-btn\"), p.setAttribute(\"aria-label\", \"Close\"), p.innerHTML = \"&times;\";\n  const n = document.createElement(\"footer\");\n  n.classList.add(\"driver-popover-footer\");\n  const f = document.createElement(\"span\");\n  f.classList.add(\"driver-popover-progress-text\"), f.innerText = \"\";\n  const w = document.createElement(\"span\");\n  w.classList.add(\"driver-popover-navigation-btns\");\n  const r = document.createElement(\"button\");\n  r.type = \"button\", r.classList.add(\"driver-popover-prev-btn\"), r.innerHTML = \"&larr; Previous\";\n  const v = document.createElement(\"button\");\n  return v.type = \"button\", v.classList.add(\"driver-popover-next-btn\"), v.innerHTML = \"Next &rarr;\", w.appendChild(r), w.appendChild(v), n.appendChild(f), n.appendChild(w), e.appendChild(p), e.appendChild(o), e.appendChild(t), e.appendChild(i), e.appendChild(n), {\n    wrapper: e,\n    arrow: o,\n    title: t,\n    description: i,\n    footer: n,\n    previousButton: r,\n    nextButton: v,\n    closeButton: p,\n    footerButtons: w,\n    progress: f\n  };\n}\nfunction Se() {\n  var o;\n  const e = l(\"popover\");\n  e && ((o = e.wrapper.parentElement) == null || o.removeChild(e.wrapper));\n}\nfunction ke(e = {}) {\n  D(e);\n  function o() {\n    a(\"allowClose\") && v();\n  }\n  function t() {\n    const s = l(\"activeIndex\"), c = a(\"steps\") || [];\n    if (typeof s == \"undefined\")\n      return;\n    const d = s + 1;\n    c[d] ? r(d) : v();\n  }\n  function i() {\n    const s = l(\"activeIndex\"), c = a(\"steps\") || [];\n    if (typeof s == \"undefined\")\n      return;\n    const d = s - 1;\n    c[d] ? r(d) : v();\n  }\n  function p(s) {\n    (a(\"steps\") || [])[s] ? r(s) : v();\n  }\n  function n() {\n    var h;\n    if (l(\"__transitionCallback\"))\n      return;\n    const c = l(\"activeIndex\"), d = l(\"__activeStep\"), m = l(\"__activeElement\");\n    if (typeof c == \"undefined\" || typeof d == \"undefined\" || typeof l(\"activeIndex\") == \"undefined\")\n      return;\n    const u = ((h = d.popover) == null ? void 0 : h.onPrevClick) || a(\"onPrevClick\");\n    if (u)\n      return u(m, d, {\n        config: a(),\n        state: l()\n      });\n    i();\n  }\n  function f() {\n    var u;\n    if (l(\"__transitionCallback\"))\n      return;\n    const c = l(\"activeIndex\"), d = l(\"__activeStep\"), m = l(\"__activeElement\");\n    if (typeof c == \"undefined\" || typeof d == \"undefined\")\n      return;\n    const g = ((u = d.popover) == null ? void 0 : u.onNextClick) || a(\"onNextClick\");\n    if (g)\n      return g(m, d, {\n        config: a(),\n        state: l()\n      });\n    t();\n  }\n  function w() {\n    l(\"isInitialized\") || (b(\"isInitialized\", !0), document.body.classList.add(\"driver-active\", a(\"animate\") ? \"driver-fade\" : \"driver-simple\"), ye(), N(\"overlayClick\", o), N(\"escapePress\", o), N(\"arrowLeftPress\", n), N(\"arrowRightPress\", f));\n  }\n  function r(s = 0) {\n    var E, A, H, $, B, M, z, q;\n    const c = a(\"steps\");\n    if (!c) {\n      console.error(\"No steps to drive through\"), v();\n      return;\n    }\n    if (!c[s]) {\n      v();\n      return;\n    }\n    b(\"__activeOnDestroyed\", document.activeElement), b(\"activeIndex\", s);\n    const d = c[s], m = c[s + 1], g = c[s - 1], u = ((E = d.popover) == null ? void 0 : E.doneBtnText) || a(\"doneBtnText\") || \"Done\", h = a(\"allowClose\"), P = typeof ((A = d.popover) == null ? void 0 : A.showProgress) != \"undefined\" ? (H = d.popover) == null ? void 0 : H.showProgress : a(\"showProgress\"), _ = ((($ = d.popover) == null ? void 0 : $.progressText) || a(\"progressText\") || \"{{current}} of {{total}}\").replace(\"{{current}}\", `${s + 1}`).replace(\"{{total}}\", `${c.length}`), x = ((B = d.popover) == null ? void 0 : B.showButtons) || a(\"showButtons\"), C = [\n      \"next\",\n      \"previous\",\n      ...h ? [\"close\"] : []\n    ].filter((ne) => !(x != null && x.length) || x.includes(ne)), y = ((M = d.popover) == null ? void 0 : M.onNextClick) || a(\"onNextClick\"), k = ((z = d.popover) == null ? void 0 : z.onPrevClick) || a(\"onPrevClick\"), T = ((q = d.popover) == null ? void 0 : q.onCloseClick) || a(\"onCloseClick\");\n    K({\n      ...d,\n      popover: {\n        showButtons: C,\n        nextBtnText: m ? void 0 : u,\n        disableButtons: [...g ? [] : [\"previous\"]],\n        showProgress: P,\n        progressText: _,\n        onNextClick: y || (() => {\n          m ? r(s + 1) : v();\n        }),\n        onPrevClick: k || (() => {\n          r(s - 1);\n        }),\n        onCloseClick: T || (() => {\n          v();\n        }),\n        ...(d == null ? void 0 : d.popover) || {}\n      }\n    });\n  }\n  function v(s = !0) {\n    const c = l(\"__activeElement\"), d = l(\"__activeStep\"), m = l(\"__activeOnDestroyed\"), g = a(\"onDestroyStarted\");\n    if (s && g) {\n      const P = !c || (c == null ? void 0 : c.id) === \"driver-dummy-element\";\n      g(P ? void 0 : c, d, {\n        config: a(),\n        state: l()\n      });\n      return;\n    }\n    const u = (d == null ? void 0 : d.onDeselected) || a(\"onDeselected\"), h = a(\"onDestroyed\");\n    if (document.body.classList.remove(\"driver-active\", \"driver-fade\", \"driver-simple\"), be(), Se(), we(), ve(), ce(), V(), c && d) {\n      const P = c.id === \"driver-dummy-element\";\n      u && u(P ? void 0 : c, d, {\n        config: a(),\n        state: l()\n      }), h && h(P ? void 0 : c, d, {\n        config: a(),\n        state: l()\n      });\n    }\n    m && m.focus();\n  }\n  return {\n    isActive: () => l(\"isInitialized\") || !1,\n    refresh: I,\n    drive: (s = 0) => {\n      w(), r(s);\n    },\n    setConfig: D,\n    setSteps: (s) => {\n      V(), D({\n        ...a(),\n        steps: s\n      });\n    },\n    getConfig: a,\n    getState: l,\n    getActiveIndex: () => l(\"activeIndex\"),\n    isFirstStep: () => l(\"activeIndex\") === 0,\n    isLastStep: () => {\n      const s = a(\"steps\") || [], c = l(\"activeIndex\");\n      return c !== void 0 && c === s.length - 1;\n    },\n    getActiveStep: () => l(\"activeStep\"),\n    getActiveElement: () => l(\"activeElement\"),\n    getPreviousElement: () => l(\"previousElement\"),\n    getPreviousStep: () => l(\"previousStep\"),\n    moveNext: t,\n    movePrevious: i,\n    moveTo: p,\n    hasNextStep: () => {\n      const s = a(\"steps\") || [], c = l(\"activeIndex\");\n      return c !== void 0 && s[c + 1];\n    },\n    hasPreviousStep: () => {\n      const s = a(\"steps\") || [], c = l(\"activeIndex\");\n      return c !== void 0 && s[c - 1];\n    },\n    highlight: (s) => {\n      w(), K({\n        ...s,\n        popover: s.popover ? {\n          showButtons: [],\n          showProgress: !1,\n          progressText: \"\",\n          ...s.popover\n        } : void 0\n      });\n    },\n    destroy: () => {\n      v(!1);\n    }\n  };\n}\nexport {\n  ke as driver\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","import app from 'flarum/forum/app';\nimport { DriveStep, driver } from 'driver.js';\nimport extractText from 'flarum/common/utils/extractText';\nimport TourGuideStep from 'src/common/models/TourGuideStep';\nexport { default as extend } from '../common';\n\napp.initializers.add('datlechin/flarum-simple-tour-guide', () => {\n  document.addEventListener('DOMContentLoaded', async () => {\n    const user = app.session.user;\n\n    if (!user || user.attribute('tourGuideDismissedAt')) {\n      return;\n    }\n\n    let tourGuideSteps: TourGuideStep[] = [];\n\n    await app.store.find<TourGuideStep[]>(`tour-guide-steps`).then((steps) => {\n      tourGuideSteps = steps;\n    });\n\n    const dismissTour = () => {\n      app.request({\n        url: `${app.forum.attribute('apiUrl')}/simple-tour-guide/dismiss`,\n        method: 'POST',\n      });\n    };\n\n    const getTranslation = (key: string, parameters: Record<string, string> = {}) => {\n      return extractText(app.translator.trans(`datlechin-simple-tour-guide.forum.${key}`, parameters));\n    };\n\n    const getSetting = (key: string): boolean => {\n      return app.forum.attribute(`datlechin-simple-tour-guide.${key}`);\n    };\n\n    const getSteps = (): DriveStep[] => {\n      return tourGuideSteps.map((step) => {\n        return {\n          element: step.target(),\n          popover: {\n            title: step.title(),\n            description: step.description(),\n          },\n        };\n      });\n    };\n\n    extractText;\n    const driverObj = driver({\n      showProgress: getSetting('showProgress'),\n      allowClose: getSetting('allowClose'),\n      smoothScroll: true,\n      overlayColor: 'var(--overlay-bg)',\n      progressText: getTranslation('progress_text', {\n        current: '{{current}}',\n        total: '{{total}}',\n      }),\n      showButtons: ['next', 'previous'],\n      nextBtnText: getTranslation('next_btn_text'),\n      prevBtnText: getTranslation('prev_btn_text'),\n      doneBtnText: getTranslation('done_btn_text'),\n      steps: getSteps(),\n      onDestroyed: () => {\n        dismissTour();\n      },\n    });\n\n    driverObj.drive();\n  });\n});\n"],"names":["_typeof","require","_regeneratorRuntime","module","exports","e","__esModule","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","key","get","obj","prop","flarum","core","compat","_setPrototypeOf","bind","TourGuideStep","_Model","subClass","superClass","apply","arguments","_proto","title","Model","description","target","Extend","add","asyncGeneratorStep","gen","reject","_next","_throw","info","error","_asyncToGenerator","fn","self","args","err","F","D","animate","allowClose","overlayOpacity","smoothScroll","disableActiveInteraction","showProgress","stagePadding","stageRadius","popoverOffset","showButtons","disableButtons","overlayColor","W","Q","flatMap","matches","Array","from","querySelectorAll","filter","getComputedStyle","pointerEvents","offsetWidth","offsetHeight","getClientRects","ae","Z","getBoundingClientRect","top","left","bottom","window","innerHeight","document","documentElement","clientHeight","right","innerWidth","clientWidth","se","scrollIntoView","behavior","re","inline","block","parentElement","scrollHeight","O","b","V","R","N","L","G","x","width","height","J","createElementNS","classList","setAttribute","style","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","zIndex","position","U","fill","opacity","cursor","appendChild","ue","body","te","tagName","pe","firstElementChild","w","Math","min","floor","max","K","element","querySelector","getElementById","createElement","id","fe","Date","now","onHighlightStarted","onHighlighted","onDeselected","m","config","state","wrapper","display","xe","P","popover","X","le","requestAnimationFrame","remove","removeAttribute","ge","he","console","warn","de","ie","I","cancelAnimationFrame","me","keyCode","preventDefault","shiftKey","indexOf","activeElement","focus","ee","contains","stopPropagation","stopImmediatePropagation","addEventListener","C","removeChild","innerText","innerHTML","arrow","footer","previousButton","nextButton","closeButton","footerButtons","progress","Pe","nextBtnText","prevBtnText","progressText","includes","disabled","className","popoverClass","trim","k","$","B","M","T","E","onNextClick","A","onPrevClick","H","onCloseClick","S","onPopoverRender","oe","realWidth","realHeight","Y","elementDimensions","popoverDimensions","popoverPadding","popoverArrowDimensions","j","align","side","_","Ce","ke","z","q","doneBtnText","replace","ne","removeEventListener","Se","we","ve","isActive","refresh","drive","setConfig","setSteps","steps","getConfig","getState","getActiveIndex","isFirstStep","isLastStep","getActiveStep","getActiveElement","getPreviousElement","getPreviousStep","moveNext","movePrevious","moveTo","hasNextStep","hasPreviousStep","highlight","destroy","app","_callee","user","tourGuideSteps","dismissTour","getTranslation","getSetting","getSteps","_context","attribute","find","url","parameters","extractText","trans","map","step","driver","current","total","onDestroyed"],"sourceRoot":""}